<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Sparse.Matrix.Internal.Heap</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Sparse-Matrix-Internal-Heap.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Sparse-Matrix-Internal-Heap.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">sparse-0.6: A playground of sparse linear algebra primitives using Morton ordering</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>non-portable</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Maintainer</th><td>Edward Kmett &lt;ekmett@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Sparse.Matrix.Internal.Heap</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Bootstrapped catenable non-empty pairing heaps as described in
</p><p><a href="https://www.fpcomplete.com/user/edwardk/revisiting-matrix-multiplication-part-5">https://www.fpcomplete.com/user/edwardk/revisiting-matrix-multiplication-part-5</a>
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Heap">Heap</a> a = <a href="#v:Heap">Heap</a> !<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> a [<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a] [<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a] [<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a]</li><li class="src short"><a href="#v:fby">fby</a> ::  <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a</li><li class="src short"><a href="#v:mix">mix</a> ::  <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a</li><li class="src short"><a href="#v:singleton">singleton</a> ::  <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> -&gt; a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a</li><li class="src short"><a href="#v:head">head</a> ::  <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)</li><li class="src short"><a href="#v:tail">tail</a> ::  <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a)</li><li class="src short"><a href="#v:fromList">fromList</a> ::  [(<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)] -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a</li><li class="src short"><a href="#v:fromAscList">fromAscList</a> ::  [(<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)] -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a</li><li class="src short"><a href="#v:streamHeapWith">streamHeapWith</a> :: <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; a -&gt; a) -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a) -&gt; Stream m (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)</li><li class="src short"><a href="#v:streamHeapWith0">streamHeapWith0</a> :: <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; a -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a) -&gt; Stream m (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)</li><li class="src short"><a href="#v:timesSingleton">timesSingleton</a> ::  (a -&gt; b -&gt; c) -&gt; Stream Id (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a) -&gt; <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> -&gt; b -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> c)</li><li class="src short"><a href="#v:singletonTimes">singletonTimes</a> ::  (a -&gt; b -&gt; c) -&gt; <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> -&gt; a -&gt; Stream Id (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, b) -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> c)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Heap" class="def">Heap</a> a <a href="src/Sparse-Matrix-Internal-Heap.html#Heap" class="link">Source</a></p><div class="doc"><p>Bootstrapped _catenable_ non-empty pairing heaps
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Heap" class="def">Heap</a> !<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> a [<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a] [<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a] [<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Heap" class="caption collapser" onclick="toggleSection('i:Heap')">Instances</p><div id="section.i:Heap" class="show"><table><tr><td class="src"><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Foldable.html#t:Foldable">Foldable</a> <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Traversable.html#t:Traversable">Traversable</a> <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/.cabal/share/doc/lens-3.10/html/Control-Lens-Indexed.html#t:FunctorWithIndex">FunctorWithIndex</a> <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/.cabal/share/doc/lens-3.10/html/Control-Lens-Indexed.html#t:FoldableWithIndex">FoldableWithIndex</a> <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/Users/ekmett/.cabal/share/doc/lens-3.10/html/Control-Lens-Indexed.html#t:TraversableWithIndex">TraversableWithIndex</a> <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> a =&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> a =&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:fby" class="def">fby</a> ::  <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a<a href="src/Sparse-Matrix-Internal-Heap.html#fby" class="link">Source</a></p><div class="doc"><p>Append two heaps where we know every key in the first occurs before every key in the second
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>head $ singleton (Key 1 1) 1 `fby` singleton (Key 2 2) 2
</code></strong>(Key 1 1,1)
</pre></div></div><div class="top"><p class="src"><a name="v:mix" class="def">mix</a> ::  <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a<a href="src/Sparse-Matrix-Internal-Heap.html#mix" class="link">Source</a></p><div class="doc"><p>Interleave two heaps making a new <code><a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></code>
</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>head $ singleton (Key 1 1) 1 `mix` singleton (Key 2 2) 2
</code></strong>(Key 1 1,1)
</pre></div></div><div class="top"><p class="src"><a name="v:singleton" class="def">singleton</a> ::  <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> -&gt; a -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a<a href="src/Sparse-Matrix-Internal-Heap.html#singleton" class="link">Source</a></p><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>singleton (Key 1 1) 1
</code></strong>Heap (Key 1 1) 1 [] [] []
</pre></div></div><div class="top"><p class="src"><a name="v:head" class="def">head</a> ::  <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)<a href="src/Sparse-Matrix-Internal-Heap.html#head" class="link">Source</a></p><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>head $ singleton (Key 1 1) 1
</code></strong>(Key 1 1,1)
</pre></div></div><div class="top"><p class="src"><a name="v:tail" class="def">tail</a> ::  <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a)<a href="src/Sparse-Matrix-Internal-Heap.html#tail" class="link">Source</a></p><div class="doc"><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>tail $ singleton (Key 1 1) 1
</code></strong>Nothing
</pre></div></div><div class="top"><p class="src"><a name="v:fromList" class="def">fromList</a> ::  [(<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)] -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a<a href="src/Sparse-Matrix-Internal-Heap.html#fromList" class="link">Source</a></p><div class="doc"><p>Build a <code><a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></code> from a jumbled up list of elements.
</p></div></div><div class="top"><p class="src"><a name="v:fromAscList" class="def">fromAscList</a> ::  [(<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)] -&gt; <a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a<a href="src/Sparse-Matrix-Internal-Heap.html#fromAscList" class="link">Source</a></p><div class="doc"><p>Build a <code><a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></code> from an list of elements that must be in strictly ascending Morton order.
</p></div></div><div class="top"><p class="src"><a name="v:streamHeapWith" class="def">streamHeapWith</a> :: <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; a -&gt; a) -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a) -&gt; Stream m (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)<a href="src/Sparse-Matrix-Internal-Heap.html#streamHeapWith" class="link">Source</a></p><div class="doc"><p>Convert a <code><a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></code> into a <code>Stream</code> folding together values with identical keys using the supplied
 addition operator.
</p></div></div><div class="top"><p class="src"><a name="v:streamHeapWith0" class="def">streamHeapWith0</a> :: <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (a -&gt; a -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> a) -&gt; Stream m (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a)<a href="src/Sparse-Matrix-Internal-Heap.html#streamHeapWith0" class="link">Source</a></p><div class="doc"><p>Convert a <code><a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></code> into a <code>Stream</code> folding together values with identical keys using the supplied
 addition operator that is allowed to return a sparse 0, by returning <code><a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:timesSingleton" class="def">timesSingleton</a> ::  (a -&gt; b -&gt; c) -&gt; Stream Id (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, a) -&gt; <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> -&gt; b -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> c)<a href="src/Sparse-Matrix-Internal-Heap.html#timesSingleton" class="link">Source</a></p><div class="doc"><p>This is an internal <code><a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></code> fusion combinator used to multiply on the right by a singleton <code><a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a></code>/value pair.
</p></div></div><div class="top"><p class="src"><a name="v:singletonTimes" class="def">singletonTimes</a> ::  (a -&gt; b -&gt; c) -&gt; <a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a> -&gt; a -&gt; Stream Id (<a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a>, b) -&gt; <a href="/usr/local/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a> c)<a href="src/Sparse-Matrix-Internal-Heap.html#singletonTimes" class="link">Source</a></p><div class="doc"><p>This is an internal <code><a href="Sparse-Matrix-Internal-Heap.html#t:Heap">Heap</a></code> fusion combinator used to multiply on the right by a singleton <code><a href="Sparse-Matrix-Internal-Key.html#t:Key">Key</a></code>/value pair.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>